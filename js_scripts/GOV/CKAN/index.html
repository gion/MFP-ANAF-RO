<!DOCTYPE html> 
<html> 
 <head> 
  <title> Ajax Example - data.gov.ro - search</title>
  <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> 
  <script src="script.js"></script> 
 </head> 
 <body>
    <h1>Cautare dataset in <a href="https://data.gov.ro/">data.gov.ro</a></h1>
    <h2> exemplu 1: Lista pachete </h2>
    <a href="http://data.gov.ro/api/3/action/package_list">Package-list</a>
    <button onclick="onButtonClick()">Get datasets</button>
    <ul id="list">
    </ul>

   <h2> exemplu 2: Descarcarea unei resurse-id: 6ee318d9-2452-485c-9bb0-7a7626d7ad06 </h2>
   <p>(<small>primelor 5 randuri din resursa in format jsonP</small>)</p>
    <a href="https://data.gov.ro/en/api/3/action/datastore_search?q=jones&resource_id=6ee318d9-2452-485c-9bb0-7a7626d7ad06">CKAN Data API</a>
   <script>
           //https://data.gov.ro/en/api/3/action/datastore_search?q=jones&resource_id=6ee318d9-2452-485c-9bb0-7a7626d7ad06
           var data = {
             resource_id: 'ef677b86-411d-4e1a-a0f3-5aec26b8e5a3', // the resource id
             limit: 5, // get 5 results
             q: 'jones' // query for 'jones'
           };
           $.ajax({
             url: 'https://data.gov.ro/ro/api/3/action/datastore_search',
             data: data,
             dataType: 'jsonp',
             success: function(response) {
               console.log(response.result)
               alert('Total results found: ' + response.result.total)
             }
           });
   </script>
 </body>
<html>
        
